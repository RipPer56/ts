{"version":3,"sources":["../../src/app/folders/folder-list/folder-list.module.ts","../../src/app/folders/folder.dal.ts","../../src/app/folders/folders.module.ts","../../src/app/folders/folder-list/folder-list.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FolderListPage } from './folder-list';\nimport { SharedModule } from \"../../shared/shared.module\";\nimport { FoldersModule } from \"../folders.module\";\n\n@NgModule({\n  declarations: [\n    FolderListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FolderListPage),\n    SharedModule,\n    FoldersModule\n  ],\n})\nexport class FolderListPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/folders/folder-list/folder-list.module.ts","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { urlEndPoints } from \"../shared/config/endPoints\";\nimport { Folder } from \"./folder.model\";\n\n@Injectable()\nexport class FoldersDal {\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  getAllFolders(adherentId: string, start: number = 1, end: number = 3): Observable<Folder[]> {\n    return this.httpClient.get<Folder[]>(urlEndPoints.foldersUrl + \"?start=\" + start + \"&end=\" + end);\n  }\n\n  folderDetail(folderId: string): Observable<Folder> {\n    return this.httpClient.get<Folder>(urlEndPoints.folderDetailUrl + folderId);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/folders/folder.dal.ts","import { NgModule } from '@angular/core';\nimport { FoldersDal } from \"./folder.dal\";\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  providers: [FoldersDal]\n})\n\nexport class FoldersModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/folders/folders.module.ts","import { Component, OnInit } from '@angular/core';\nimport { InfiniteScroll, IonicPage, NavController } from 'ionic-angular';\nimport { Subscription } from 'rxjs/Subscription';\nimport { ErrorService } from '../../shared/services/error.service';\nimport { ToastService } from '../../shared/services/toast.service';\nimport { FoldersDal } from '../folder.dal';\nimport { Folder } from '../folder.model';\n\n@IonicPage({\n  name: 'folder-list',\n})\n@Component({\n  selector: \"folder-list-page\",\n  templateUrl: \"folder-list.html\",\n})\nexport class FolderListPage implements OnInit {\n  //TODO @input from dashboard section\n  adherentId = \"K498220\";\n  folders: Folder[] = [];\n  isLoading: boolean = false;\n  data: Folder[] = [];\n  start = 1;\n  end = 6;\n  private folderListSubscription: Subscription[] = [];\n  noMoreData: boolean = false;\n\n\n  constructor(private folderDal: FoldersDal,\n              private errorService: ErrorService,\n              private navCtrl: NavController,\n              private toastService: ToastService) {\n  }\n\n  ngOnInit() {\n    this.getFolders();\n  }\n\n  doInfinite(infiniteScroll: InfiniteScroll) {\n    this.end = this.start + 2;\n    this.folderListSubscription.push(this.folderDal.getAllFolders(this.adherentId, this.start, this.end)\n      .subscribe((folders: Folder[]) => {\n        this.data = folders;\n        if (this.data.length == 0) {\n          infiniteScroll.enable(false);\n          this.noMoreData = true;\n          return;\n        }\n        for (let i = 0; i < this.data.length; i++) {\n          this.folders.push(this.data[i]);\n        }\n        this.start = this.end + 1;\n        infiniteScroll.complete();\n      }, error => {\n        this.errorService.sendError(error);\n        infiniteScroll.complete();\n      }));\n  }\n\n  ngOnDestroy() {\n    for (let subscription of this.folderListSubscription)\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n  }\n\n  private getFolders() {\n    this.isLoading = true;\n    this.folderListSubscription.push(this.folderDal.getAllFolders(this.adherentId, this.start, this.end)\n      .subscribe((folders: Folder[]) => {\n        this.isLoading = false;\n        this.folders = folders;\n      }, error => {\n        this.isLoading = false;\n        this.errorService.sendError(error);\n      }));\n    this.start = this.end + 1;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/folders/folder-list/folder-list.ts"],"sourceRoot":""}
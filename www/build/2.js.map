{"version":3,"sources":["../../src/app/complaints/complaint-detail/complaint-detail.module.ts","../../src/app/shared/services/Load.service.ts","../../src/app/complaints/complaints.dal.ts","../../src/app/complaints/complaint.module.ts","../../src/app/complaints/complaint.model.ts","../../src/app/complaints/complaint-detail/complaint-detail.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ComplaintDetailPage } from './complaint-detail';\nimport { ComplaintsModule } from \"../complaint.module\";\nimport { LoadService } from \"../../shared/services/Load.service\";\nimport { SharedModule } from \"../../shared/shared.module\";\n\n@NgModule({\n  declarations: [\n    ComplaintDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ComplaintDetailPage),\n    SharedModule,\n    ComplaintsModule,\n\n  ],\n  providers: [\n    LoadService\n  ]\n})\nexport class ComplaintDetailPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/complaints/complaint-detail/complaint-detail.module.ts","import { Injectable } from '@angular/core';\nimport { Loading, LoadingController } from 'ionic-angular';\n\n\n@Injectable()\nexport class LoadService {\n  loader: Loading;\n\n  constructor(private loadCtrl: LoadingController) {\n\n  }\n\n\n  start(msg?:string){\n    this.loader = this.loadCtrl.create({\n      content: 'Chargement ...',\n    });\n    if(msg){\n      this.loader.setContent(msg)\n    }\n    this.loader.present()\n  }\n  stop(){\n    if(this.loader){\n      this.loader.dismiss();\n    }\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/services/Load.service.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { urlEndPoints } from '../shared/config/endPoints';\nimport { CacheService } from '../shared/services/cache-service';\nimport { Complaint } from './complaint.model';\n\n@Injectable()\nexport class ComplaintsDal {\n\n\n  constructor(private httpClient: HttpClient, private cacheService: CacheService) {\n  }\n\n  getAllComplaints(adherentId: string, start: number = 1, end: number = 2): Observable<Complaint[]> {\n    return this.httpClient.get<Complaint[]>(urlEndPoints.complaintsUrl + \"?start=\" + start + \"&end=\" + end);\n  }\n\n  getComplaintDetailById(complaintId: string): Observable<Complaint | null> {\n    return this.httpClient.get<Complaint>(urlEndPoints.complaintDetailUrl + complaintId);\n  }\n\n  addComplaintByFolderId(complaint: Complaint): Observable<Complaint | null> {\n    this.cacheService.refreshSpecifiqueCache(urlEndPoints.complaintsUrl);\n    return this.httpClient.post<Complaint>(urlEndPoints.complaintDetailUrl, {\n      folderId: complaint.folderId,\n      reason: complaint.reason,\n      description: complaint.description\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/complaints/complaints.dal.ts","import { NgModule } from '@angular/core';\nimport { ComplaintsDal } from \"./complaints.dal\";\nimport { SharedModule } from \"../shared/shared.module\";\n\n@NgModule({\n  declarations: [],\n  imports: [SharedModule],\n  providers: [ComplaintsDal]\n})\n\nexport class ComplaintsModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/complaints/complaint.module.ts","export interface Complaint {\n  id?: string,\n  folderId: string,\n  declarationDate?: Date | number | string,\n  reason?: string,\n  description?: string,\n  status?: ComplaintStatusColor,\n}\n\nexport enum ComplaintStatusColor {\n  SENT = 'green',\n  WAITING = 'orange',\n  CANCELED = 'red',\n  UNKNOWN = 'gray'\n}\n\nexport enum ComplaintStatus {\n  green = 'Accepté',\n  red = 'Rejeté',\n  gray = 'Envoyée',\n  orange= 'En cours de traitement',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/complaints/complaint.model.ts","import { Component, ViewChild } from '@angular/core';\nimport { Content, IonicPage, NavParams } from 'ionic-angular';\nimport { Subscription } from 'rxjs/Subscription';\nimport { ErrorService } from '../../shared/services/error.service';\nimport { LoadService } from '../../shared/services/Load.service';\nimport { Complaint, ComplaintStatus } from '../complaint.model';\nimport { ComplaintsDal } from '../complaints.dal';\n\n@IonicPage({\n  name: \"complaint-detail-page\",\n  segment: \"complaint-detail/:id\",\n  defaultHistory: ['complaint-list'],\n})\n@Component({\n  selector: \"complaint-detail-page\",\n  templateUrl: \"complaint-detail.html\",\n})\nexport class ComplaintDetailPage {\n  @ViewChild(Content) content: Content;\n  complaintStatus = ComplaintStatus;\n  complaint: Complaint;\n  private complaintSubscription: Subscription;\n\n  constructor(private errorService: ErrorService,\n              private navParams: NavParams,\n              private complaintDal: ComplaintsDal,\n              public loadService: LoadService) {\n  }\n\n\n  ngOnInit() {\n    this.getComplaintDetail();\n  }\n\n  ngOnDestroy() {\n    if (this.complaintSubscription)\n      this.complaintSubscription.unsubscribe();\n  }\n\n  private getComplaintDetail() {\n    this.complaint = this.navParams.get(\"complaint\");\n    this.content.resize();\n    if (!this.complaint) {\n      this.loadService.start();\n      const id = this.navParams.get(\"id\");\n      this.complaintSubscription = this.complaintDal.getComplaintDetailById(id)\n        .subscribe((complaint: Complaint) => {\n          this.loadService.stop();\n          this.complaint = complaint;\n          this.content.resize();\n        }, error => {\n          this.loadService.stop();\n          this.errorService.sendError(error);\n        });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/complaints/complaint-detail/complaint-detail.ts"],"sourceRoot":""}